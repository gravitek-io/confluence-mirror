# ============================================================================
# Confluence Mirror Demo - Environment Variables
# ============================================================================
#
# This demo supports two authentication methods with Atlassian Confluence.
# Choose ONE method and configure the appropriate variables below.
#
# Authentication priority:
# 1. OAuth2 (if CONFLUENCE_OAUTH_CLIENT_ID and CONFLUENCE_OAUTH_CLIENT_SECRET are set)
# 2. Basic Auth (if CONFLUENCE_BASE_URL, CONFLUENCE_EMAIL, and CONFLUENCE_API_KEY are set)
#
# ============================================================================

# ============================================================================
# OPTION 1: OAuth2 Authentication (RECOMMENDED)
# ============================================================================
# OAuth2 uses Atlassian service accounts with Client Credentials Flow (2LO).
# This is the recommended authentication method for production use.
#
# Benefits:
# - More secure (short-lived access tokens, no password exposure)
# - Designed for automation and server-to-server communication
# - Fine-grained permission control via scopes
# - Automatic Cloud ID detection (no manual configuration)
#
# Setup instructions:
# -------------------
# 1. Go to https://admin.atlassian.com
# 2. Navigate to "Directory" > "Service accounts"
# 3. Create a new service account or select an existing one
# 4. Click "Manage" on the service account
# 5. Go to the "API keys" tab
# 6. Click "Create API key" and select "OAuth 2.0 (3LO)"
# 7. Configure the following granular scopes (ALL REQUIRED):
#    ✓ read:page:confluence
#    ✓ read:attachment:confluence
#    ✓ read:user:confluence
#    ✓ read:label:confluence
#    ✓ read:space:confluence
#    ✓ read:embed:confluence
# 8. Copy the generated Client ID and Client Secret below
# 9. IMPORTANT: Grant the service account access to your Confluence spaces
#    (Confluence > Space Settings > Permissions > Add the service account)
#
# Required variables for OAuth2:
# -------------------------------
CONFLUENCE_OAUTH_CLIENT_ID=your_oauth_client_id_here
CONFLUENCE_OAUTH_CLIENT_SECRET=your_oauth_client_secret_here

# Notes:
# - Cloud ID is automatically detected (no manual configuration needed)
# - Access tokens expire after 60 minutes and are auto-refreshed
# - Only works with Atlassian Cloud (not Server/Data Center)

# ============================================================================
# OPTION 2: Basic Authentication (LEGACY)
# ============================================================================
# Basic Auth uses your Atlassian account email and an API token.
# This method is simpler but less secure than OAuth2.
#
# Benefits:
# - Simpler setup (no service account required)
# - Works with personal Atlassian accounts
# - Good for development and testing
#
# Setup instructions:
# -------------------
# 1. Go to https://id.atlassian.com/manage-profile/security/api-tokens
# 2. Click "Create API token"
# 3. Give it a name (e.g., "Confluence Mirror Demo")
# 4. Copy the generated token
# 5. Use your Atlassian account email and the token below
#
# Required variables for Basic Auth:
# -----------------------------------
# CONFLUENCE_BASE_URL=https://your-domain.atlassian.net
# CONFLUENCE_EMAIL=your.email@domain.com
# CONFLUENCE_API_KEY=your_api_token_here

# Notes:
# - API tokens don't expire (unless manually revoked)
# - Uses your personal account permissions
# - Only works with Atlassian Cloud (not Server/Data Center)

# ============================================================================
# USAGE EXAMPLES
# ============================================================================
#
# Using OAuth2 (recommended):
# ---------------------------
# CONFLUENCE_OAUTH_CLIENT_ID=3TwdZJPbuqD7h...
# CONFLUENCE_OAUTH_CLIENT_SECRET=ATOA3pL9XYZ...
#
# Using Basic Auth (legacy):
# ---------------------------
# CONFLUENCE_BASE_URL=https://mycompany.atlassian.net
# CONFLUENCE_EMAIL=john.doe@mycompany.com
# CONFLUENCE_API_KEY=ATATT3xFfGF0...
#
# ============================================================================
# TROUBLESHOOTING
# ============================================================================
#
# OAuth2 Issues:
# --------------
# - "Unauthorized; scope does not match" → Check that all 6 scopes are configured
# - "No accessible Confluence sites" → Grant service account access to your spaces
# - See demo/OAUTH2_TROUBLESHOOTING.md for detailed help
#
# Basic Auth Issues:
# ------------------
# - "401 Unauthorized" → Verify your email and API token are correct
# - "404 Not Found" → Check that CONFLUENCE_BASE_URL is correct
# - API token generation: https://id.atlassian.com/manage-profile/security/api-tokens
#
# ============================================================================
